// build.gradle

allprojects {
	group 'ee.degeetia'
	apply plugin: 'eclipse'
	apply plugin: 'eclipse-wtp'
	apply plugin: 'checkstyle'

	repositories {
	    mavenCentral()
	}
	
	checkstyle {
		configFile = rootProject.file('config/checkstyle/checkstyle.xml')
	}
}

subprojects {
	apply plugin: 'java'

	dependencies {
		compile 'org.apache.logging.log4j:log4j-api:2.3'
		compile 'org.apache.logging.log4j:log4j-core:2.3'

		testCompile 'junit:junit:4.12'
		testCompile 'org.mockito:mockito-all:1.10.18'
	}

	tasks.withType(JavaCompile) {
		sourceCompatibility = JavaVersion.VERSION_1_6
		targetCompatibility = JavaVersion.VERSION_1_6
	}

	tasks.withType(Test) {
		testLogging {
			exceptionFormat = 'full'
		}
		outputs.upToDateWhen {
			false
		}
	}
}
